import{z as y,A as u,B as d,C as T,D as n,E as k,F as N,H as R,G as F,I as L,J as E,K as g,L as q,M as x,d as B,N as C,S as D}from"./runtime.fS1GLMV3.js";function I(a,f,e,c=null,i=!1){n&&k();var s=a,r=null,t=null,l=null,S=i?N:0;y(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const _=s.data===R;l===_&&(s=F(),L(s),E(!1),h=!0)}l?(r?u(r):r=d(()=>e(s)),t&&T(t,()=>{t=null})):(t?u(t):c&&(t=d(()=>c(s))),r&&T(r,()=>{r=null})),h&&E(!0)},S),n&&(s=g)}function A(a,f){return a===f||(a==null?void 0:a[D])===f}function M(a={},f,e,c){return q(()=>{var i,s;return x(()=>{i=s,s=[],B(()=>{a!==e(...s)&&(f(a,...s),i&&A(e(...i),a)&&f(null,...i))})}),()=>{C(()=>{s&&A(e(...s),a)&&f(null,...s)})}}),a}export{M as b,I as i};
