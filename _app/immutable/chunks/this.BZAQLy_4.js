import{L as A,M as u,q as T,N as d,v as n,h as R,O as k,P as N,Q as q,e as L,d as E,f as O,R as g,S as v,T as x,U as F,V as M}from"./runtime.CBu_r9p9.js";function Y(a,f,e,c=null,i=!1){n&&R();var s=a,r=null,t=null,l=null,_=i?k:0;A(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const y=s.data===N;l===y&&(s=q(),L(s),E(!1),h=!0)}l?(r?u(r):r=T(()=>e(s)),t&&d(t,()=>{t=null})):(t?u(t):c&&(t=T(()=>c(s))),r&&d(r,()=>{r=null})),h&&E(!0)},_),n&&(s=O)}function S(a,f){return a===f||(a==null?void 0:a[M])===f}function b(a={},f,e,c){return g(()=>{var i,s;return v(()=>{i=s,s=[],x(()=>{a!==e(...s)&&(f(a,...s),i&&S(e(...i),a)&&f(null,...i))})}),()=>{F(()=>{s&&S(e(...s),a)&&f(null,...s)})}}),a}export{b,Y as i};
