import{k as _,n as h,o as T,q as d,u as c,v as k,E as R,H as q,w as x,x as N,y as E,z as g,A as v,B,C,D,S as F}from"./runtime.BcJFkwAi.js";function L(a,f,e,n=null,i=!1){c&&k();var s=a,r=null,t=null,l=null,A=i?R:0;_(()=>{if(l===(l=!!f()))return;let u=!1;if(c){const S=s.data===q;l===S&&(s=x(),N(s),E(!1),u=!0)}l?(r?h(r):r=T(()=>e(s)),t&&d(t,()=>{t=null})):(t?h(t):n&&(t=T(()=>n(s))),r&&d(r,()=>{r=null})),u&&E(!0)},A),c&&(s=g)}function y(a,f){return a===f||(a==null?void 0:a[F])===f}function O(a={},f,e,n){return v(()=>{var i,s;return B(()=>{i=s,s=[],C(()=>{a!==e(...s)&&(f(a,...s),i&&y(e(...i),a)&&f(null,...i))})}),()=>{D(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{O as b,L as i};
